<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
  <meta name="viewport" content="width=device-width">


<style>
    #container1 { border:1px dotted blue; width: 700px; height: 475px; position: relative; }
  </style>
</head>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/datamaps/0.5.8/datamaps.all.js"></script>


<title>DATASHEET</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
h1 {
    background-color: #2196F3;
    color : white;
    max-width : 800px; 
    text-align : center;
    margin-top : 20px; 
}
h2 {
    background-color: #2196F3;
    color : white;
    max-width : 400px; 
    text-align : center;
}

th.thh{
   background-color : #2196F3;
   color : white;
}

div {
    background-color: white;
}
p.indent{ padding-left: 4.8em }
p.indent2{ padding-left: 9.8em }
p {
    background-color: light-green;
}
body{
color:#757575;
}

#tablee{
    margin-bottom: 50px;
}

</style>
<body>

<div class="w3-container">
   
<center><h1 align="center">DATA ANALYSIS- GENERATION AND FEATURING </h1> </center>
  <p class="indent">For Analysis Purposes,We have generated our data and simulated it as the real HSBC data after talking to various stakeholders<br/>
	We have considered following parameters,<br/>
	<p class="indent2">=>Account Type -- It shows the type of account of consumer<br/>
			Values-	Personal,Corporate,Government,Private,NGO<br/></p>
	<p class="indent2">=>Transaction Type --It reflects the mode of the transaction<br/>
			Values- Payment,Debit,Transfer,Cash-in,Cash-out<br/></p>
	<p class="indent2">=>Amount -- Value of the transaction Money<br/>
			Values- 5000-50000<br/></p>
	<p class="indent2">=>Month -- It shows the month of the transaction<br/>
			Values- 1,2,3,4,5,6,7,8,9,10,11,12<br/></p>
	<p class="indent2">=>Transaction Timing -- This reflects the period of transaction<br/>
			Values- Usual,Unusual<br/></p>
	<p class="indent2">=>Location Risk -- This parameter shows the risk of the geographical location where transaction takes place<br/>
			Values-High,Medium,Low<br/></p>
	<p class="indent2">=>Average Transactions -- This shows the average number of transactions<br/>
			Values- 1-100<br/></p>
<br/>
</p>
<center> <h2>SAMPLE DATA</h2> </center>

  <table class="w3-table-all w3-small" id="tablee">
    <tr>
      <th class="thh">Account type</th>
      <th class="thh">Transaction type</th>
      <th class="thh">Amount</th>
      <th class="thh">Transaction Month</th>
      <th class="thh">Transaction Timing</th>
      <th class="thh">Location Risk</th>
      <th class="thh">Average Transactions</th>

    </tr>
    <tr>
      <td>personal</td>
      <td>transfer</td>
      <td>1956.25</td>
	<td>4</td>
	<td>usual</td>
	<td>high</td>
	<td>15</td>
    </tr>
       <tr>
      <td>govt</td>
      <td>transfer</td>
      <td>790890</td>
	<td>6</td>
	<td>unusual</td>
	<td>low</td>
	<td>50</td>
    </tr>    
	<tr>
      <td>govt</td>
      <td>debit</td>
      <td>227712.2</td>
	<td>8</td>
	<td>unusual</td>
	<td>high</td>	<td>36</td>
    </tr>    
	<tr>
      <td>ngo</td>
      <td>debit</td>
      <td>9195.97</td>
	<td>4</td>
	<td>usual</td>
	<td>low</td>
	<td>8</td>
    </tr>    <tr>
      <td>ngo</td>
      <td>payment</td>
      <td>86086.38</td>
	<td>4</td>
	<td>unusual</td>
	<td>high</td>
	<td>53</td>
    </tr>    <tr>
      <td>private</td>
      <td>cash-out</td>
      <td>130086</td>
	<td>7</td>
	<td>usual</td>
	<td>low</td>
	<td>25</td>
    </tr>    <tr>
      <td>personal</td>
      <td>cash-in</td>
      <td>123987</td>
	<td>5</td>
	<td>unusual</td>
	<td>high</td>
	<td>21</td>
    </tr>    <tr>
      <td>govt</td>
      <td>debit</td>
      <td>12496</td>
	<td>8</td>
	<td>usual</td>
	<td>low</td>
	<td>25</td>
    </tr>    <tr>
      <td>corporate</td>
      <td>debit</td>
      <td>133079</td>
	<td>1</td>
	<td>unusual</td>
	<td>high</td>
	<td>25</td>
    </tr>    <tr>
      <td>personal</td>
      <td>debit</td>
      <td>1147313</td>
	<td>3</td>
	<td>usual</td>
	<td>low</td>
	<td>25</td>
    </tr>
  </table>

</div>
<div id="container1">

	<script>
/*

		var table = document.createElement('table'), tr, td, row, cell;
		table.className = 'w3-table-all w3-small';
for (row = 0; row < 10; row++) {
    tr = document.createElement('tr');
    for (cell = 0; cell < 12; cell++) {
        td = document.createElement('td');
        tr.appendChild(td);
        td.innerHTML = ;
    }
    table.appendChild(tr);
}
document.getElementById('container').appendChild(table);
*/
	</script> 
</div>


<div id="basic_choropleth" style="position: relative; width: 500px; height: 300px;"></div>
<script>
    var map = new Datamap({element: document.getElementById('container')});
    var basic_choropleth = new Datamap({
  element: document.getElementById("basic_choropleth"),
  projection: 'mercator',
  fills: {
    defaultFill: "#ABDDA4",
    authorHasTraveledTo: "#fa0fa0"
  },
  data: {
    USA: { fillKey: "authorHasTraveledTo" },
    JPN: { fillKey: "authorHasTraveledTo" },
    ITA: { fillKey: "authorHasTraveledTo" },
    CRI: { fillKey: "authorHasTraveledTo" },
    KOR: { fillKey: "authorHasTraveledTo" },
    DEU: { fillKey: "authorHasTraveledTo" },
  }
});

var colors = d3.scale.category10();

window.setInterval(function() {
  basic_choropleth.updateChoropleth({
    USA: colors(Math.random() * 10),
    RUS: colors(Math.random() * 100),
    AUS: { fillKey: 'authorHasTraveledTo' },
    BRA: colors(Math.random() * 50),
    CAN: colors(Math.random() * 50),
    ZAF: colors(Math.random() * 50),
    IND: colors(Math.random() * 50),
  });
}, 2000);
</script>

</div>

<script>
    // example data from server
    var series = [
        ["BLR",75],["BLZ",43],["RUS",50],["RWA",88],["SRB",21],["TLS",43],
        ["REU",21],["TKM",19],["TJK",60],["ROU",4],["TKL",44],["GNB",38],
        ["GUM",67],["GTM",2],["SGS",95],["GRC",60],["GNQ",57],["GLP",53],
        ["JPN",59],["GUY",24],["GGY",4],["GUF",21],["GEO",42],["GRD",65],
        ["GBR",14],["GAB",47],["SLV",15],["GIN",19],["GMB",63],["GRL",56],
        ["ERI",57],["MNE",93],["MDA",39],["MDG",71],["MAF",16],["MAR",8],
        ["MCO",25],["UZB",81],["MMR",21],["MLI",95],["MAC",33],["MNG",93],
        ["MHL",15],["MKD",52],["MUS",19],["MLT",69],["MWI",37],["MDV",44],
        ["MTQ",13],["MNP",21],["MSR",89],["MRT",20],["IMN",72],["UGA",59],
        ["TZA",62],["MYS",75],["MEX",80],["ISR",77],["FRA",54],["IOT",56],
        ["SHN",91],["FIN",51],["FJI",22],["FLK",4],["FSM",69],["FRO",70],
        ["NIC",66],["NLD",53],["NOR",7],["NAM",63],["VUT",15],["NCL",66],
        ["NER",34],["NFK",33],["NGA",45],["NZL",96],["NPL",21],["NRU",13],
        ["NIU",6],["COK",19],["XKX",32],["CIV",27],["CHE",65],["COL",64],
        ["CHN",06],["CMR",70],["CHL",15],["CCK",85],["CAN",76],["COG",20],["IND",98],
        ["CAF",93],["COD",36],["CZE",77],["CYP",65],["CXR",14],["CRI",31],
        ["CUW",67],["CPV",63],["CUB",40],["SWZ",58],["SYR",96],["SXM",31]];


    // Datamaps expect data in format:
    // { "USA": { "fillColor": "#42a844", numberOfWhatever: 75},
    //   "FRA": { "fillColor": "#8dc386", numberOfWhatever: 43 } }
    var dataset = {};

    // We need to colorize every country based on "numberOfWhatever"
    // colors should be uniq for every value.
    // For this purpose we create palette(using min/max series-value)
    var onlyValues = series.map(function(obj){ return obj[1]; });
    var minValue = Math.min.apply(null, onlyValues),
            maxValue = Math.max.apply(null, onlyValues);

    // create color palette function
    // color can be whatever you wish
    var paletteScale = d3.scale.linear()
            .domain([minValue,maxValue])
            .range(["#8BC34A","#F44336"]); // red color

    function colorr(value)
    {
        col = null;
        if(value<10)
        {
            col = "#4CAF50";
        }
        else if (value >=10 && value <=40)
        {
            col = "#FFC107";
        }
        
        else
        {
            col = "#F44336";
        }
        return col;
            
    }

    // fill dataset in appropriate format
    series.forEach(function(item){ //
        // item example value ["USA", 70]
        var iso = item[0],
                value = item[1];
        dataset[iso] = { numberOfThings: value, fillColor: colorr(value) };
    });

    // render map
    new Datamap({
        element: document.getElementById('container1'),
        projection: 'mercator', // big world map
        // countries don't listed in dataset will be painted with this color
        fills: { defaultFill: '#F5F5F5' },
        data: dataset,
        geographyConfig: {
            borderColor: '#DEDEDE',
            highlightBorderWidth: 2,
            // don't change color on mouse hover
            highlightFillColor: function(geo) {
                return geo['fillColor'] || '#F5F5F5';
            },
            // only change border
            highlightBorderColor: '#B7B7B7',
            // show desired information in tooltip
            popupTemplate: function(geo, data) {
                // don't show tooltip if country don't present in dataset
                if (!data) { return ; }
                // tooltip content
                return ['<div class="hoverinfo">',
                    '<strong>', geo.properties.name, '</strong>',
                    '<br>Count: <strong>', data.numberOfThings, '</strong>',
                    '</div>'].join('');
            }
        }
    });
</script>

</body>
</html>
